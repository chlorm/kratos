#!/usr/bin/env sh

os_base () {

  # Find base os i.e. linux,freebsd,darwin,cygwin
  tolower $(uname -s) | grep -m 1 -w -o '\(cygwin\|dragonfly\|darwin\|freebsd\|linux\|netbsd\|openbsd\)'

}

os_linux_distro_release () {

  # Finds linux distro via /etc/*-release
  cat $ROOT/etc/*-release 2>/dev/null

}

os_linux_distro_uname () {

  # Finds linux distro via uname -a
  uname -a 2>/dev/null

}

os_linux_distro () {

  # Take first result of distro name match
  echo "$(tolower $(os_linux_distro_release) $(os_linux_distro_uname))" | \
  grep -m 1 -w -o '\(arch\|centos\|debian\|fedora\|gentoo\|nixos\|opensuse\|red\ hat\|suse\|ubuntu\)'

}